###静态页面从api获取数据步骤如下

1、api封装好方法，index中获取调用接口

2、将数据传入store对应模块中存储

3、各个组件调用获取store中的数据



v-for遍历时调用的是store的数据(服务器的数据)，那么就不能把dom操作写在mounted里，因为调用数据也是异步操作

执行错误的顺序为：组件执行mounted->向服务器发起ajax请求获取轮播图数据->初始化swiper实例执行dom操作->修改仓库中的bannerList

往后一个生命周期钩子放在update可以，但不好，也可以设置定时器，将dom操作推后，但也不好,

单一个watch无法保证监视的是最后一次变化

最终解决方案：watch+$nextTick

$nextTick:在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。



v-for遍历要在li里，在ul里会影响flex布局



自定义事件是为了解决普通事件无法跨组件操作的弊端

父子通信之自定义事件：
1、在子类中绑定点击事件
2、写点击事件的回调函数
3、在父类中的子类标签绑定自定义事件，在子类的点击事件回调函数中触发该自定义事件，并传入想传的数据参数
4、用子类传来的参数在父类中写定义事件的回调函数

父子通信自定义事件简写版：
1、在子类绑定点击事件直接触发自定义事件
2、在父类的子类标签绑定子类自定义事件
3、用子类传来的参数在父类中写定义事件的回调函数


商品参数的自定义事件无法触发,原因不明---靠，没有自动保存，麻了

跳转到新页面步骤：
1、点击后跳转到另一个路由页面，先写静态页面，给新页面配置好路由信息
2、为获取新页面的后端数据，先写api方法获取后端数据，然后在vuex仓库中调用api方法接收data（地址栏的skuId由dispatch方法传参）
    （详情组件dispatch并携带$route中地址参数，然后在store中调用api，api使用该地址参数向后端要对应数据）
3、在组件中使用data

vuex里写getter必须保证初始state中不是空的（服务器数据还没回来无法编辑）否则在后面写 ||{}

首页更新登录之后的信息可以写在mounted,token请求写在拦截器

首页获取用户信息的请求是get，不是post![image-20220216134927058](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20220216134927058.png)

登录之后不能再回去登录页面